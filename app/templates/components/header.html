<header id="header" class="bg-white dark:bg-neutral-900 shadow-md">
  <nav class="container mx-auto px-4 py-3">
    <div class="flex justify-between items-center">
      <!-- Logo -->
      <div class="flex items-center">
        <a href="{{ url_for('pages.home') if 'home' in pages.__all__ else '/' }}" class="flex items-center">
          <img src="{{ url_for('static', path='images/python-logo.svg') }}"
               alt="Python Logo"
               class="h-8 mr-2"
               width="32"
               height="32">
          <span class="text-2xl font-bold text-[#4584b6] dark:text-[#4584b6]">
            Python Institute
          </span>
        </a>
      </div>

      <!-- Desktop Navigation -->
      <div class="hidden md:flex space-x-6">
        <ul class="flex space-x-6">
          <li>
            <a href="{{ url_for('pages.home') if 'home' in pages.__all__ else '/' }}"
               class="text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] transition-colors duration-200 {% if request.path == '/' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
              Home
            </a>
          </li>
          <li>
            <a href="{{ url_for('pages.courses') if 'courses' in pages.__all__ else '#courses' }}"
               class="text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] transition-colors duration-200 {% if request.path == '/courses' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
              Courses
            </a>
          </li>
          <li>
            <a href="{{ url_for('pages.certifications') if 'certifications' in pages.__all__ else '#certifications' }}"
               class="text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] transition-colors duration-200 {% if request.path == '/certifications' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
              Certifications
            </a>
          </li>
          <li>
            <a href="{{ url_for('pages.roadmap') if 'roadmap' in pages.__all__ else '#roadmap' }}"
               class="text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] transition-colors duration-200 {% if request.path == '/roadmap' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
              Roadmap
            </a>
          </li>
          <li>
            <a href="{{ url_for('pages.exam_info') if 'exam_info' in pages.__all__ else '#exam-info' }}"
               class="text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] transition-colors duration-200 {% if request.path == '/exam-info' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
              Exam Info
            </a>
          </li>
          <li>
            <a href="{{ url_for('pages.faq') if 'faq' in pages.__all__ else '#faq' }}"
               class="text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] transition-colors duration-200 {% if request.path == '/faq' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
              FAQ
            </a>
          </li>
          <li>
            <a href="{{ url_for('pages.contact') if 'contact' in pages.__all__ else '#contact' }}"
               class="text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] transition-colors duration-200 {% if request.path == '/contact' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
              Contact
            </a>
          </li>
        </ul>
      </div>

      <!-- Mobile menu button -->
      <div class="md:hidden flex items-center">
        <button id="mobile-menu-button"
                class="text-gray-700 dark:text-gray-300 hover:text-[#4584b6] dark:hover:text-[#4584b6]"
                aria-label="Open menu"
                aria-expanded="false"
                aria-controls="mobile-menu">
          <svg xmlns="http://www.w3.org/2000/svg"
               class="h-6 w-6"
               fill="none"
               viewBox="0 0 24 24"
               stroke="currentColor">
            <path stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Navigation -->
    <div id="mobile-menu"
         class="hidden md:hidden mt-4 pb-4"
         aria-labelledby="mobile-menu-button">
      <ul class="flex flex-col space-y-4">
        <li>
          <a href="{{ url_for('pages.home') if 'home' in pages.__all__ else '/' }}"
             class="block text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] {% if request.path == '/' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
            Home
          </a>
        </li>
        <li>
          <a href="{{ url_for('pages.courses') if 'courses' in pages.__all__ else '#courses' }}"
             class="block text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] {% if request.path == '/courses' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
            Courses
          </a>
        </li>
        <li>
          <a href="{{ url_for('pages.certifications') if 'certifications' in pages.__all__ else '#certifications' }}"
             class="block text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] {% if request.path == '/certifications' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
            Certifications
          </a>
        </li>
        <li>
          <a href="{{ url_for('pages.roadmap') if 'roadmap' in pages.__all__ else '#roadmap' }}"
             class="block text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] {% if request.path == '/roadmap' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
            Roadmap
          </a>
        </li>
        <li>
          <a href="{{ url_for('pages.exam_info') if 'exam_info' in pages.__all__ else '#exam-info' }}"
             class="block text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] {% if request.path == '/exam-info' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
            Exam Info
          </a>
        </li>
        <li>
          <a href="{{ url_for('pages.faq') if 'faq' in pages.__all__ else '#faq' }}"
             class="block text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] {% if request.path == '/faq' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
            FAQ
          </a>
        </li>
        <li>
          <a href="{{ url_for('pages.contact') if 'contact' in pages.__all__ else '#contact' }}"
             class="block text-gray-700 hover:text-[#4584b6] dark:text-gray-300 dark:hover:text-[#4584b6] {% if request.path == '/contact' %}font-semibold text-[#4584b6] dark:text-[#4584b6]{% endif %}">
            Contact
          </a>
        </li>
      </ul>
    </div>
  </nav>

  <script>
    // Mobile menu toggle
    document.addEventListener('DOMContentLoaded', function() {
      const mobileMenuButton = document.getElementById('mobile-menu-button');
      const mobileMenu = document.getElementById('mobile-menu');

      if (mobileMenuButton && mobileMenu) {
        mobileMenuButton.addEventListener('click', function() {
          const expanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
          mobileMenuButton.setAttribute('aria-expanded', !expanded);
          mobileMenu.classList.toggle('hidden');

          // Change hamburger icon to X when menu is open
          const icon = mobileMenuButton.querySelector('svg');
          if (expanded) {
            icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />';
          } else {
            icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />';
          }
        });

        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
          if (!mobileMenu.contains(event.target) && !mobileMenuButton.contains(event.target) && !mobileMenu.classList.contains('hidden')) {
            mobileMenu.classList.add('hidden');
            mobileMenuButton.setAttribute('aria-expanded', 'false');
            const icon = mobileMenuButton.querySelector('svg');
            icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />';
          }
        });

        // Handle responsive design changes
        window.addEventListener('resize', function() {
          if (window.innerWidth >= 768) { // md breakpoint
            mobileMenu.classList.add('hidden');
            mobileMenuButton.setAttribute('aria-expanded', 'false');
            const icon = mobileMenuButton.querySelector('svg');
            icon.innerHTML = '<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />';
          }
        });
      }
    });
  </script>
</header>